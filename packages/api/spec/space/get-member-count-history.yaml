name: GetMemberCountHistory

method: get
path: /api/spaces/member-count-history
query:
  fromTime:
    required: true
    schema:
      type: date
  toTime:
    required: true
    schema:
      type: date
  timeStepMs:
    schema:
      type: integer
  filterSpaceIds:
    schema:
      type: array
      items:
        type: string
  filterMemberIds:
    schema:
      type: array
      items:
        type: string
  countType:
    schema:
      enum:
        - enter
        - uniqueEnter
        - exit
        - uniqueExit
        - stay
        - uniqueStay
  groupBy:
    schema:
      enum:
        - department
        - typeOfStudy
        - studyProgramme
        - yearOfStudy
        - affiliatedStudentInterestGroup
        - space

authentication:
  type: bearer

responseBody:
  data:
    schema:
      type: object
      required:
        - groups
        - records
      additionalProperties: false
      properties:
        groups:
          type: array
          items:
            type: string
        records:
          type: array
          items:
            type: object
            required:
              - startTime
              - endTime
              - counts
            additionalProperties: false
            properties:
              startTime:
                type: date
              endTime:
                type: date
              counts:
                type: object
                additionalProperties:
                  type: number
